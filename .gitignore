# ============================================================
# DGX System Snapshot â€” Hardened Git Ignore Rules (Corrected)
# ============================================================

# Ignore everything by default
*

# --- Whitelist top-level structure (must appear BEFORE any deeper exclusions) ---
!.gitignore
!README.md
!meta/
!etc/
!libvirt/

# --- Exclude sensitive and runtime files inside etc ---
etc/ssh/ssh_host_*
etc/ssl/private/
etc/pki/pesign/
etc/selinux/targeted/active/
etc/.pwd.lock
etc/shadow*
etc/gshadow*
etc/passwd-
etc/group-
etc/subuid-
etc/subgid-
etc/pki/
etc/crypto-policies/
etc/alternatives/
etc/dconf/
etc/fonts/
etc/X11/
etc/java/
etc/gdm/
etc/motd.d/
etc/issue.d/

# --- Exclude transient libvirt data ---
libvirt/images/
libvirt/snapshots/
libvirt/dumps/
libvirt/private/

# --- Meta rules ---
!meta/
meta/*.txt
!meta/snapshot-meta-*.txt
!meta/summary-*.txt

# --- Ignore local build artifacts ---
staging/
tmp/
var/
run/
cache/
swap/
*.tar
*.tar.gz
*.tgz
*.zip
*.log
*.bak
*.old
*.tmp
*.swp
*.pid
*.lock
*.iso
*.img
*.qcow2
*.vmdk
.DS_Store
Thumbs.db

# ============================================================
# Tracks: etc/, libvirt/, meta/
# Ignores: staging/, transient data, binaries, credentials
# ============================================================
